# ===== Web / Proxy =====
server.port=${PORT:8080}
server.forward-headers-strategy=framework
server.servlet.session.cookie.secure=true
server.servlet.session.cookie.same-site=LAX

spring.application.name=SistemaDeVisitas

# ===== Datasource (usa PG* do Railway; cai para POSTGRES_* e defaults se faltar) =====
spring.datasource.url=jdbc:postgresql://${PGHOST:${POSTGRES_HOST:postgres.railway.internal}}:${PGPORT:${POSTGRES_PORT:5432}}/${PGDATABASE:${POSTGRES_DB:railway}}?sslmode=require
spring.datasource.username=${PGUSER:${POSTGRES_USER:postgres}}
spring.datasource.password=${PGPASSWORD:${POSTGRES_PASSWORD}}
spring.datasource.driver-class-name=org.postgresql.Driver

# ===== JPA =====
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

management.endpoints.web.exposure.include=health,info
